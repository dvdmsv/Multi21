
<mat-form-field class="contendorSelector">
  <p>Selecciona un GP de la temporada actual para visualizar el resultado y la clasificación.</p>
  <mat-select placeholder="Circuito" name="operacion" #round (selectionChange)="buscar(round.value)">
    <mat-option *ngFor="let carrera of carreras.MRData.RaceTable.Races" [value]="carrera.round">
      {{carrera.round}}º {{carrera.Circuit.circuitName}}
    </mat-option>
  </mat-select>
</mat-form-field>

<div class="contenedorTabla">
  <table mat-table [dataSource]="arrCarrSelec" class="mat-elevation-z8">
    <caption>Resultado de carrera</caption>
    <ng-container matColumnDef="posicion">
      <th mat-header-cell *matHeaderCellDef> Posición </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.posicion}} </td>
    </ng-container>
    <ng-container matColumnDef="piloto">
      <th mat-header-cell *matHeaderCellDef> Piloto </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.piloto}} </td>
    </ng-container>
    <ng-container matColumnDef="escuderia">
      <th mat-header-cell *matHeaderCellDef> Escudería </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.escuderia}} </td>
    </ng-container>
    <ng-container matColumnDef="pos. salida">
      <th mat-header-cell *matHeaderCellDef> Pos. Salida </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.posSalida}} </td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef> Status </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.status}} </td>
    </ng-container>
    <ng-container matColumnDef="puntos">
      <th mat-header-cell *matHeaderCellDef> Puntos </th>
      <td mat-cell *matCellDef="let resultado"> {{resultado.puntos}} </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnasCarrera"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasCarrera;"></tr>
  </table>

  <table mat-table [dataSource]="arrClasifSelec" class="mat-elevation-z8">
    <caption>Clasificación</caption>
    <ng-container matColumnDef="posicion">
      <th mat-header-cell *matHeaderCellDef> Posición </th>
      <td mat-cell *matCellDef="let clasificacion"> {{clasificacion.posicion}} </td>
    </ng-container>
    <ng-container matColumnDef="piloto">
      <th mat-header-cell *matHeaderCellDef> Piloto </th>
      <td mat-cell *matCellDef="let clasificacion"> {{clasificacion.piloto}} </td>
    </ng-container>
    <ng-container matColumnDef="escuderia">
      <th mat-header-cell *matHeaderCellDef> Escudería </th>
      <td mat-cell *matCellDef="let clasificacion"> {{clasificacion.escuderia}} </td>
    </ng-container>
    <ng-container matColumnDef="puntos">
      <th mat-header-cell *matHeaderCellDef> Puntos </th>
      <td mat-cell *matCellDef="let clasificacion"> {{clasificacion.puntos}} </td>
    </ng-container>
    <ng-container matColumnDef="victorias">
      <th mat-header-cell *matHeaderCellDef> Vicotiras </th>
      <td mat-cell *matCellDef="let clasificacion"> {{clasificacion.victorias}} </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnasClasific"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasClasific;"></tr>
  </table>
</div>

<div *ngIf="round.value>0">
  <textarea matInput [(ngModel)]="comentario" cdkTextareaAutosize maxlength="200" cdkAutosizeMinRows="10"  cdkAutosizeMaxRows="10" placeholder="Máximo 200 caracteres"></textarea>
  <button mat-raised-button color="primary" (click)="publicar(round.value)"><mat-icon>send</mat-icon></button>
</div>


